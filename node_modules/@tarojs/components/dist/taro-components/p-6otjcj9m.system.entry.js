System.register(["./p-faf4aa2e.system.js","./p-13196f99.system.js"],(function(e){"use strict";var t,n,r,i,s;return{setters:[function(e){t=e.r;n=e.c;r=e.h;i=e.H},function(e){s=e.c}],execute:function(){function o(e,t){e.transform=t;e.webkitTransform=t;e.MozTransform=t}var c=typeof navigator!=="undefined"&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);var a={activate:"release",deactivate:"pull",release:"loading",finish:"finish"};var u=false;try{var l=Object.defineProperty({},"passive",{get:function(){u=true}});window.addEventListener("cancel",(function(){return{}}),l)}catch(d){}var f=u?{passive:false}:false;var h=e("taro_pull_to_refresh",function(){function e(e){var r=this;t(this,e);this.prefixCls="rmc-pull-to-refresh";this.distanceToRefresh=50;this.damping=100;this.indicator=a;this.currSt="deactivate";this.dragOnEdge=false;this._ScreenY=0;this._startScreenY=0;this._lastScreenY=0;this._isMounted=false;this.scrollContainer=document.querySelector(".taro-tabbar__panel")||document.body;this.triggerPullDownRefresh=function(){if(!r.dragOnEdge&&r._isMounted){if(r.refreshing){r._lastScreenY=r.distanceToRefresh+1;r.currSt="release";r.setContentStyle(r._lastScreenY)}else{r.currSt="finish";r.reset()}}};this.init=function(){var e=r.scrollContainer;r._to={touchstart:r.onTouchStart.bind(r,e),touchmove:r.onTouchMove.bind(r,e),touchend:r.onTouchEnd.bind(r,e),touchcancel:r.onTouchEnd.bind(r,e)};Object.keys(r._to).forEach((function(t){e.addEventListener(t,r._to[t],f)}))};this.destroy=function(){var e=r.scrollContainer;Object.keys(r._to).forEach((function(t){e.removeEventListener(t,r._to[t])}))};this.onTouchStart=function(e,t){r._ScreenY=r._startScreenY=t.touches[0].screenY;r._lastScreenY=r._lastScreenY||0};this.isEdge=function(e){var t=r.scrollContainer;if(t&&t===document.body){var n=document.scrollingElement?document.scrollingElement:document.body;return n.scrollTop<=0}return e.scrollTop<=0};this.damp=function(e){if(Math.abs(r._lastScreenY)>r.damping){return 0}var t=Math.abs(r._ScreenY-r._startScreenY)/window.screen.height;e*=(1-t)*.6;return e};this.onTouchMove=function(e,t){var n=t.touches[0].screenY;if(r._startScreenY>n){return}if(r.isEdge(e)){if(!r.dragOnEdge){r._ScreenY=r._startScreenY=t.touches[0].screenY;r.dragOnEdge=true}if(t.cancelable){t.preventDefault()}var i=Math.round(n-r._ScreenY);r._ScreenY=n;r._lastScreenY+=r.damp(i);r.setContentStyle(r._lastScreenY);if(Math.abs(r._lastScreenY)<r.distanceToRefresh){if(r.currSt!=="deactivate"){r.currSt="deactivate"}}else{if(r.currSt==="deactivate"){r.currSt="activate"}}if(c&&t.changedTouches[0].clientY<0){r.onTouchEnd()}}};this.onTouchEnd=function(){if(r.dragOnEdge){r.dragOnEdge=false}if(r.currSt==="activate"){r.currSt="release";r.onRefresh.emit(r)}else if(r.currSt==="release"){r._lastScreenY=r.distanceToRefresh+1;r.setContentStyle(r._lastScreenY)}else{r.reset()}};this.reset=function(){r._lastScreenY=0;r.setContentStyle(0)};this.setContentStyle=function(e){if(r.contentRef){o(r.contentRef.style,"translate3d(0px,"+e+"px,0)")}};this.onRefresh=n(this,"refresh",7)}e.prototype.onRefreshing=function(){this.triggerPullDownRefresh()};e.prototype.componentDidUnload=function(){this.destroy()};e.prototype.componentDidLoad=function(){this.init();this.triggerPullDownRefresh();this._isMounted=true};e.prototype.render=function(){var e=this;var t=function(t){var n=e,i=n.currSt,o=n.dragOnEdge,c=n.prefixCls;var a=s(t,!o&&c+"-transition");var u=i==="activate"||i==="release";return r("div",{class:c+"-content-wrapper"},r("div",{class:a,ref:function(t){e.contentRef=t}},u&&r("div",{class:c+"-indicator"},r("div",null),r("div",null),r("div",null)),r("slot",null)))};if(this.scrollContainer){return t(this.prefixCls+"-content "+this.prefixCls+"-down")}return r(i,{class:s(this.prefixCls,this.prefixCls+"-down")},t(this.prefixCls+"-content"))};Object.defineProperty(e,"watchers",{get:function(){return{refreshing:["onRefreshing"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".rmc-pull-to-refresh-content{-webkit-transform-origin:left top 0;transform-origin:left top 0}.rmc-pull-to-refresh-content-wrapper{overflow:hidden}.rmc-pull-to-refresh-transition{-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}\@-webkit-keyframes rmc-pull-to-refresh-indicator{50%{opacity:.2}to{opacity:1}}\@keyframes rmc-pull-to-refresh-indicator{50%{opacity:.2}to{opacity:1}}.rmc-pull-to-refresh-indicator{text-align:center;height:30px;line-height:10px}.rmc-pull-to-refresh-indicator>div{background-color:grey;width:6px;height:6px;border-radius:100%;margin:3px;-webkit-animation-fill-mode:both;animation-fill-mode:both;display:inline-block;-webkit-animation:rmc-pull-to-refresh-indicator .5s linear 0s infinite;animation:rmc-pull-to-refresh-indicator .5s linear 0s infinite}.rmc-pull-to-refresh-indicator>div:nth-child(0){-webkit-animation-delay:-.1s!important;animation-delay:-.1s!important}.rmc-pull-to-refresh-indicator>div:first-child{-webkit-animation-delay:-.2s!important;animation-delay:-.2s!important}.rmc-pull-to-refresh-indicator>div:nth-child(2){-webkit-animation-delay:-.3s!important;animation-delay:-.3s!important}.rmc-pull-to-refresh-down .rmc-pull-to-refresh-indicator{margin-top:-25px}"},enumerable:true,configurable:true});return e}())}}}));