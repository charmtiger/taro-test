import{r as t,c as s,h as i,H as h,g as o}from"./p-fcde3f42.js";const a=class{constructor(i){t(this,i),this.width=300,this.height=150,this.onTouchStart=()=>{this.timer=setTimeout(()=>{this.onLongTap.emit()},500)},this.onTouchMove=()=>{clearTimeout(this.timer)},this.onTouchEnd=()=>{clearTimeout(this.timer)},this.onLongTap=s(this,"longtap",7)}componentDidLoad(){const{width:t,height:s}=this.el.getBoundingClientRect();this.width=t,this.height=s}componentDidUpdate(){const{width:t,height:s}=this.el.getBoundingClientRect();this.width!==t&&(this.width=t),this.height!==s&&(this.height=s)}render(){const{canvasId:t,width:s,height:o}=this;return i(h,{class:"taro-canvas"},i("canvas",{"canvas-id":t,width:s,height:o,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd}))}get el(){return o(this)}static get style(){return".taro-canvas{position:relative;display:block;width:300px;height:150px}"}};export{a as taro_canvas_core};